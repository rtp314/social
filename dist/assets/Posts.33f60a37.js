import{f as m,r,U as d,h as p,j as a,a as e,F as h,v as k,k as N,x,w as f,i as u,e as y}from"./index.88d996d1.js";function b(s){if(!(s instanceof m)&&!(s instanceof Date))return"incorrect format";let t,n;const l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=new Date;return s instanceof m?t=s.toDate():t=s,o.getTime()-t.getTime()<24*3600*1e3?n=t.toTimeString().slice(0,5):o.getTime()-t.getTime()<7*24*3600*1e3?n=l[t.getDay()]:n=t.toDateString(),n}function g({post:s}){const t=b(s.date),n=r.exports.useContext(d),{myID:l}=p();return a("div",{className:"post",children:[a("div",{className:"post-title",children:[e("span",{children:s.uid===l?"Me":n&&(n==null?void 0:n.friends[s.uid])}),e("span",{children:t})]}),a("div",{className:"post-body",children:[s.images&&e("div",{children:s.images.map((o,c)=>e("img",{alt:s.date+c,className:"post-img",src:o},c))}),s.body]})]})}function v(){return r.exports.useEffect(()=>{const s=Array.from(document.getElementsByClassName("skeleton-animate"));return s.forEach(t=>{t.style.width=Math.random()*30+20+"%",t.style.animation=`stretch ${Math.random()*100+500}ms -${Math.random()}s infinite`}),()=>{s.forEach(t=>t.style.animation="none")}},[]),a(h,{children:[a("div",{className:"post",children:[a("div",{className:"post-title",children:[e("span",{className:"skeleton-text"}),e("span",{className:"skeleton-text"})]}),a("div",{className:"post-body",children:[e("span",{className:"skeleton-text skeleton-animate"}),e("br",{}),e("span",{className:"skeleton-text skeleton-animate"}),e("br",{}),e("span",{className:"skeleton-text skeleton-animate"}),e("br",{})]})]}),a("div",{className:"post",children:[a("div",{className:"post-title",children:[e("span",{className:"skeleton-text"}),e("span",{className:"skeleton-text"})]}),a("div",{className:"post-body",children:[e("span",{className:"skeleton-text skeleton-animate"}),e("br",{}),e("span",{className:"skeleton-text skeleton-animate"}),e("br",{}),e("span",{className:"skeleton-text skeleton-animate"}),e("br",{})]})]}),a("div",{className:"post",children:[a("div",{className:"post-title",children:[e("span",{className:"skeleton-text"}),e("span",{className:"skeleton-text"})]}),a("div",{className:"post-body",children:[e("span",{className:"skeleton-text skeleton-animate"}),e("br",{}),e("span",{className:"skeleton-text skeleton-animate"}),e("br",{}),e("span",{className:"skeleton-text skeleton-animate"}),e("br",{})]})]})]})}function S(){const[s,t]=r.exports.useState([]);return r.exports.useEffect(()=>{const n=k(f(y,"posts"),x("date","desc"),N(10)),l=u(n,o=>{const c=o.docChanges().filter(i=>i.type==="added").map(i=>i.doc.data());t(i=>[...c,...i])});return()=>l()},[]),a("div",{children:[s.length===0&&e(v,{}),s.map((n,l)=>e(g,{post:n},l))]})}export{S as default};
